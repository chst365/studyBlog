(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{458:function(s,n,a){"use strict";a.r(n);var e=a(18),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chst365/bolgImgs/imgs/topImgs/158.jpg",alt:""}})]),s._v(" "),a("h1",{attrs:{id:"十二、如何编写声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十二、如何编写声明文件"}},[s._v("#")]),s._v(" 十二、如何编写声明文件？")]),s._v(" "),a("p",[s._v("类库一般分为三类：全局类库、模块类库、umd类库。\njquery是umd类库，即可以通过全局方式引用，通过webpack的插件实现，也可以通过模块化的方式来引用。")]),s._v(" "),a("h2",{attrs:{id:"全局类库声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局类库声明文件"}},[s._v("#")]),s._v(" 全局类库声明文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("declare function globalLib(options: globalLib.Options): void;\n\ndeclare namespace globalLib {\n    const version: string;\n    function doSomething(): void;\n    interface Options {\n        [key: string]: any\n    }\n}\n\n// declare关键字可以为一个外部变量提供类型声明\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"模块类库声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块类库声明文件"}},[s._v("#")]),s._v(" 模块类库声明文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("declare function moduleLib(options: Options): void\n\ninterface Options {\n    [key: string]: any\n}\n\ndeclare namespace moduleLib {\n    const version:  string\n    function doSomething(): void\n}\n\nexport = moduleLib\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"umd类库声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#umd类库声明文件"}},[s._v("#")]),s._v(" umd类库声明文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("declare namespace umdLib {\n    const version: string\n    function doSomething():void\n}\n\nexport as namespace umdLib\n\nexport = umdLib\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("入口文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import $ from 'jquery'\n// 无法找到xxx声明文件，在ts中，使用非ts类库时，必须为这个类库编写一个声明文件，对外暴露它的API，有时，它的声明文件是包含在它的源码中，但有时是单独提供需要额外安装的\n// 安装类声明包：@types/jquery\n$('.app').css('color','red')\n\n/* \n    我们在使用外部类库时，需要查询一下有没有声明文件：http://microsoft.github.io/TypeSearch\n    http://definitelytyped.org/guides //如何贡献声明文件\n*/\nglobalLib({x: 1})\nglobalLib.doSomething()\n\nimport moduleLib from './module-lib'\n\nmoduleLib.doSomething()\n\nimport umdLib from './umd-lib'\n// 如果注释上面，开启allowUmdGlobalAccess配置则解决问题\numdLib.doSomething()\n\n// 给外部模块增加自定义方法\nimport m from 'moment'\ndeclare module 'moment' {\n    export function myFunction(): void\n}\n\nm.myFunction = () => {}\n\ndeclare global {\n    namespace globalLib {\n        function doAnything(): void\n    }\n}\n// 这样会给全局命名空间造成污染，一般不建议这样做\nglobalLib.doSomething = () => {}\n\n// 声明文件之间的依赖\n\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);