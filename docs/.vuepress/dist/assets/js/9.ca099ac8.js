(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{326:function(t,s,a){"use strict";a.r(s);var e=a(3),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chst365/bolgImgs/imgs/topImgs/126.jpg",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"页面生成的过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面生成的过程"}},[t._v("#")]),t._v(" 页面生成的过程")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/3/6/170af501e710ce67?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),t._v(" "),s("ol",[s("li",[t._v("HTML 被 HTML 解析器解析成 DOM 树")]),t._v(" "),s("li",[t._v("CSS 被 CSS 解析器解析成 CSSOM 树")]),t._v(" "),s("li",[t._v("结合 DOM 树和 CSSOM 树生成一颗渲染树 (Render Tree),此过程为 Attachment")]),t._v(" "),s("li",[t._v("生成布局（flow）,浏览器在屏幕上画出渲染树中的所有节点")]),t._v(" "),s("li",[t._v("将布局绘制（paint）在屏幕上，显示出整个页面")])]),t._v(" "),s("h2",{attrs:{id:"重排比重绘大"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重排比重绘大"}},[t._v("#")]),t._v(" 重排比重绘大")]),t._v(" "),s("ul",[s("li",[t._v("重绘不一定导致重排，但重排一定导致重绘")])]),t._v(" "),s("h2",{attrs:{id:"重排-reflow"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重排-reflow"}},[t._v("#")]),t._v(" 重排（reflow）")]),t._v(" "),s("p",[t._v("重排也叫回流，重新生成布局，重新排列元素")]),t._v(" "),s("h3",{attrs:{id:"哪些情况会发生重排"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#哪些情况会发生重排"}},[t._v("#")]),t._v(" 哪些情况会发生重排")]),t._v(" "),s("ul",[s("li",[t._v("页面初始渲染")]),t._v(" "),s("li",[t._v("添加/删除可见的 DOM 元素")]),t._v(" "),s("li",[t._v("改变元素位置")]),t._v(" "),s("li",[t._v("改变元素尺寸，如边距、填充、边框、宽高等")]),t._v(" "),s("li",[t._v("改变元素内容，如文字数量，图片大小等")]),t._v(" "),s("li",[t._v("改变元素字体大小")]),t._v(" "),s("li",[t._v("改变浏览器窗口尺寸，如 resize 事件发生时")]),t._v(" "),s("li",[t._v("激活 CSS 伪类，如"),s("code",[t._v(":hover")])]),t._v(" "),s("li",[t._v("设置 style 属性的值，因通过设置 style 属性改变节点样式，每次设置都会触发一次 reflow")]),t._v(" "),s("li",[t._v("查询某些属性或调用某些计算方法："),s("code",[t._v("offsetWidth")]),t._v(","),s("code",[t._v("offsetHeight")]),t._v("等，调用"),s("code",[t._v("getComputedStyle")]),t._v("方法")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("常见引起重排属性和方法")]),t._v(" "),s("th",[t._v("--")]),t._v(" "),s("th",[t._v("--")]),t._v(" "),s("th",[t._v("--")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("width")]),t._v(" "),s("td",[t._v("height")]),t._v(" "),s("td",[t._v("margin")]),t._v(" "),s("td",[t._v("padding")])]),t._v(" "),s("tr",[s("td",[t._v("display")]),t._v(" "),s("td",[t._v("border-width")]),t._v(" "),s("td",[t._v("border")]),t._v(" "),s("td",[t._v("position")])]),t._v(" "),s("tr",[s("td",[t._v("overflow")]),t._v(" "),s("td",[t._v("font-size")]),t._v(" "),s("td",[t._v("vertical-align")]),t._v(" "),s("td",[t._v("min-height")])]),t._v(" "),s("tr",[s("td",[t._v("clientWidth")]),t._v(" "),s("td",[t._v("clientHeight")]),t._v(" "),s("td",[t._v("clientTop")]),t._v(" "),s("td",[t._v("clientLeft")])]),t._v(" "),s("tr",[s("td",[t._v("offsetWidth")]),t._v(" "),s("td",[t._v("offsetHeight")]),t._v(" "),s("td",[t._v("offsetTop")]),t._v(" "),s("td",[t._v("offsetLeft")])]),t._v(" "),s("tr",[s("td",[t._v("scrollWidth")]),t._v(" "),s("td",[t._v("scrollHeight")]),t._v(" "),s("td",[t._v("scrollTop")]),t._v(" "),s("td",[t._v("scrollLeft")])]),t._v(" "),s("tr",[s("td",[t._v("scrollIntoView()")]),t._v(" "),s("td",[t._v("scrollTo()")]),t._v(" "),s("td",[t._v("getComputedStyle()")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("getBoundingClientRect()")]),t._v(" "),s("td",[t._v("scrollIntoViewIfNeeded()")]),t._v(" "),s("td"),t._v(" "),s("td")])])]),t._v(" "),s("h3",{attrs:{id:"重排影响的范围"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重排影响的范围"}},[t._v("#")]),t._v(" 重排影响的范围")]),t._v(" "),s("p",[t._v("由于浏览器渲染界面是基于流式布局模型，所以触发重排时会对周围的 DOM 重新排列")]),t._v(" "),s("ul",[s("li",[t._v("全局范围：从根节点 html 开始对整个渲染树进行重新布局")]),t._v(" "),s("li",[t._v("局部范围：对渲染树的某部分或某一个渲染你对象进行重新布局")])]),t._v(" "),s("h2",{attrs:{id:"重绘-repaints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重绘-repaints"}},[t._v("#")]),t._v(" 重绘（Repaints）")]),t._v(" "),s("p",[t._v("当一个元素的外观发生改变，但没有改变布局，重新把元素外观绘制出来的过程，叫重绘")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("常见的引起重绘的属性")]),t._v(" "),s("th",[t._v("--")]),t._v(" "),s("th",[t._v("--")]),t._v(" "),s("th",[t._v("--")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("color")]),t._v(" "),s("td",[t._v("border-style")]),t._v(" "),s("td",[t._v("visibility")]),t._v(" "),s("td",[t._v("background")])]),t._v(" "),s("tr",[s("td",[t._v("text-decoration")]),t._v(" "),s("td",[t._v("background-image")]),t._v(" "),s("td",[t._v("background-position")]),t._v(" "),s("td",[t._v("background-repeat")])]),t._v(" "),s("tr",[s("td",[t._v("outline-color")]),t._v(" "),s("td",[t._v("outline")]),t._v(" "),s("td",[t._v("outline-style")]),t._v(" "),s("td",[t._v("border-radius")])]),t._v(" "),s("tr",[s("td",[t._v("outline-width")]),t._v(" "),s("td",[t._v("box-shadow")]),t._v(" "),s("td",[t._v("background-size")]),t._v(" "),s("td")])])]),t._v(" "),s("h2",{attrs:{id:"重排优化建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重排优化建议"}},[t._v("#")]),t._v(" 重排优化建议")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("减少重排范围")]),t._v(" "),s("ul",[s("li",[t._v("尽可能在低层级的 DOM 节点上，不要通过父元素去影响子元素")]),t._v(" "),s("li",[t._v("不要使用 table 布局，可能很小的改动造成整个 table 的重新布局，不得已使用 table，可设置"),s("code",[t._v("table-layout:auto")]),t._v("或"),s("code",[t._v("table-layout:fixed")]),t._v("使 table 一行一行渲染，限制 reflow 的影响范围")])])]),t._v(" "),s("li",[s("p",[t._v("减少重排次数")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("样式集中改变")]),t._v(" "),s("ul",[s("li",[t._v("样式统一在"),s("code",[t._v("cssText")]),t._v("变量中编辑")]),t._v(" "),s("li",[t._v("更改类名而不是直接修改样式")]),t._v(" "),s("li",[s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bad")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当top和left的值是动态计算而成时...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// better")]),t._v("\nel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssText "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"; left: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px; top: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px;"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// better")]),t._v("\nel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" className"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[t._v("分离读写操作")]),t._v(" "),s("ul",[s("li",[t._v("DOM 的多个读操作（或多个写操作），应该放在一起。")]),t._v(" "),s("li",[s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bad 强制刷新 触发四次重排+重绘")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetRight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bottom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetBottom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// good 缓存布局信息 相当于读写分离 触发一次重排+重绘")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" curLeft "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" curTop "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" curRight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetRight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" curBottom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetBottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" curLeft "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" curTop "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" curRight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bottom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" curBottom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[t._v("将 DOM 离线")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("dispaly:none")])]),t._v(" "),s("li",[t._v("通过"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/DocumentFragment",target:"_blank",rel:"noopener noreferrer"}},[t._v("DocumentFragment"),s("OutboundLink")],1),t._v("创建一个"),s("code",[t._v("dom")]),t._v("碎片，在此上面批量操作"),s("code",[t._v("dom")]),t._v("，操作完成后，再添加到文档中，这样只会触发一次重排")]),t._v(" "),s("li",[t._v("复制节点，在副本上工作，然后替换他")])])]),t._v(" "),s("li",[s("p",[t._v("使用 absolute 或 fixed 脱离文档流")]),t._v(" "),s("ul",[s("li",[t._v("使用绝对定位会使该元素独立成为渲染树中"),s("code",[t._v("body")]),t._v("的一个子元素，一些其他在这个区域的节点可能需要重绘，但不需要重排")])])]),t._v(" "),s("li",[s("p",[t._v("优化动画")]),t._v(" "),s("ul",[s("li",[t._v("把动画效果应用到"),s("code",[t._v("position:absolute/fixed")]),t._v("的元素上")]),t._v(" "),s("li",[t._v("启用 CPU 加速：Canvas2D/布局合成、transitions、transforms、WebGL 和 video")])])])])])]),t._v(" "),s("h2",{attrs:{id:"如何在浏览器中查看页面渲染时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何在浏览器中查看页面渲染时间"}},[t._v("#")]),t._v(" 如何在浏览器中查看页面渲染时间")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/3/6/170af50e460d9a23?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),t._v(" "),s("ol",[s("li",[s("p",[t._v("打开开发者工具：点击 Performance 左侧有个小圆点 点击刷新页面会录制整个页面加载出来 时间的分配情况。如图")]),t._v(" "),s("ul",[s("li",[t._v("蓝色：网络通信和 HTML 解析")]),t._v(" "),s("li",[t._v("黄色：js 执行")]),t._v(" "),s("li",[t._v("紫色：样式计算和布局，即重排")]),t._v(" "),s("li",[t._v("绿色：重绘")])])]),t._v(" "),s("li",[s("p",[t._v("点击 Event Log：单独勾选 Loading 项会显示 html 和 css 加载时间。如下\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/3/6/170af5139b7ba71b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})])])])])}),[],!1,null,null,null);s.default=r.exports}}]);