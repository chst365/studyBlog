(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{331:function(s,a,n){"use strict";n.r(a);var e=n(3),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chst365/bolgImgs/imgs/topImgs/441.jpg",alt:""}})]),s._v(" "),a("h1",{attrs:{id:"二、基础篇-webpack-基础用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、基础篇-webpack-基础用法"}},[s._v("#")]),s._v(" 二、基础篇：webpack 基础用法")]),s._v(" "),a("h2",{attrs:{id:"_1-核心概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-核心概念"}},[s._v("#")]),s._v(" 1. 核心概念")]),s._v(" "),a("h3",{attrs:{id:"_1-1-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-entry"}},[s._v("#")]),s._v(" 1.1 Entry")]),s._v(" "),a("p",[s._v("Entry 用来指定 webpack 的打包入口")]),s._v(" "),a("h4",{attrs:{id:"理解依赖图的含义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理解依赖图的含义"}},[s._v("#")]),s._v(" 理解依赖图的含义")]),s._v(" "),a("p",[s._v("依赖图的入口是 entry\n对于非代码比如图片、字体依赖也会不断加入到依赖图中\n"),a("img",{attrs:{src:"https://upload.smart-lzgz.cn/mweb/2020%2007%2019%2015951717116974%2015908366676155%20.jpg",alt:"-w722"}})]),s._v(" "),a("h4",{attrs:{id:"entry-的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entry-的用法"}},[s._v("#")]),s._v(" Entry 的用法")]),s._v(" "),a("ul",[a("li",[s._v("单入口：entry 是一个字符串"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: './path/to/my/entry/file.js'\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[s._v("多入口：entry 是一个对象"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: {\n        app: './src/app.js',\n        adminApp: './src/adminApp.js'\n    }\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_1-2-output"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-output"}},[s._v("#")]),s._v(" 1.2 Output")]),s._v(" "),a("p",[s._v("Output 用来告诉 webpack 如何将编译后的文件输出到磁盘")]),s._v(" "),a("h4",{attrs:{id:"output-的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output-的用法"}},[s._v("#")]),s._v(" Output 的用法")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("单入口配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: './path/to/my/entry/file.js',\n    output: {\n        filename: 'bundle.js',\n        path: __dirname + '/dist'\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("多入口配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: {\n        app: './src/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name].js',          //  通过占位符确保文件名称的唯一\n        path: __dirname + '/dist'\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_1-3-loaders"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-loaders"}},[s._v("#")]),s._v(" 1.3 Loaders")]),s._v(" "),a("p",[s._v("webpack 开箱即用只支持 JS 和 JSON 两种文件类型，通过 Loaders 去支持其他文件类型并且把它们转化成有效的模块，并且可以添加到依赖图中。")]),s._v(" "),a("p",[s._v("本身是一个函数，接受源文件作为参数，返回转换的结果。")]),s._v(" "),a("h3",{attrs:{id:"常见的-loaders-有哪些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的-loaders-有哪些"}},[s._v("#")]),s._v(" 常见的 Loaders 有哪些？")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("名称")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("babel-loader")]),s._v(" "),a("td",[s._v("转换 ES6、ES7 等 JS 新特性语法")])]),s._v(" "),a("tr",[a("td",[s._v("css-loader")]),s._v(" "),a("td",[s._v("支持.css 文件的加载和解析")])]),s._v(" "),a("tr",[a("td",[s._v("less-loader")]),s._v(" "),a("td",[s._v("将 less 文件转换成 css")])]),s._v(" "),a("tr",[a("td",[s._v("ts-loader")]),s._v(" "),a("td",[s._v("将 Ts 转换成 JS")])]),s._v(" "),a("tr",[a("td",[s._v("file-loader")]),s._v(" "),a("td",[s._v("进行图片、字体等的打包")])]),s._v(" "),a("tr",[a("td",[s._v("raw-loader")]),s._v(" "),a("td",[s._v("将文件以字符串的形式导入")])]),s._v(" "),a("tr",[a("td",[s._v("thread-loader")]),s._v(" "),a("td",[s._v("多进程打包 JS 和 CSS")])])])]),s._v(" "),a("h3",{attrs:{id:"loaders-的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loaders-的用法"}},[s._v("#")]),s._v(" Loaders 的用法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\n\nmodule.exports = {\n    output: {\n        filename: 'bundle.js'\n    },\n    module: {\n        rules: [\n            { test: /\\.txt$/, use: 'raw-loader' }       // test 指定匹配规则   use 指定使用的 loader 名称\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"_1-4-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-plugins"}},[s._v("#")]),s._v(" 1.4 plugins")]),s._v(" "),a("p",[s._v("插件用于 bundle 文件的优化，资源管理和环境变量注入")]),s._v(" "),a("p",[s._v("作用于整个构建过程")]),s._v(" "),a("h3",{attrs:{id:"常见的-plugins-有哪些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的-plugins-有哪些"}},[s._v("#")]),s._v(" 常见的 Plugins 有哪些？")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("名称")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("CommonsChunkPlugin")]),s._v(" "),a("td",[s._v("将 chunks 相同的模块代码提前成公共 js")])]),s._v(" "),a("tr",[a("td",[s._v("CleanWebpackPlugin")]),s._v(" "),a("td",[s._v("清理构建目录")])]),s._v(" "),a("tr",[a("td",[s._v("ExtractTextWebpackPlugin")]),s._v(" "),a("td",[s._v("将 CSS 从 bundle 文件里提取成一个独立的 CSS 文件")])]),s._v(" "),a("tr",[a("td",[s._v("CopyWebpackPlugin")]),s._v(" "),a("td",[s._v("将文件或者文件夹拷贝到输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("HtmlWebpackPlugin")]),s._v(" "),a("td",[s._v("创建 html 文件去承载输出的 bundle")])]),s._v(" "),a("tr",[a("td",[s._v("UglifyjsWebpackPlugin")]),s._v(" "),a("td",[s._v("压缩 JS")])]),s._v(" "),a("tr",[a("td",[s._v("ZipWebpackPlugin")]),s._v(" "),a("td",[s._v("将打包出的资源生成一个 zip 包")])])])]),s._v(" "),a("h3",{attrs:{id:"plugins-的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins-的用法"}},[s._v("#")]),s._v(" Plugins 的用法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    output: {\n        filename: 'bundle.js'\n    },\n    plugins: [\n        new HtmlWebpackPlugin({templatee: './src/index.html'})          // 放到 plugins 数组里\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"_1-5-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-mode"}},[s._v("#")]),s._v(" 1.5 Mode")]),s._v(" "),a("p",[s._v("Mode 用来指定当前的构建环境是：production、development 还是 none\n设置 mode 可以使用 webpack 内置的函数，默认值为 production")]),s._v(" "),a("h3",{attrs:{id:"mode-的内置函数功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode-的内置函数功能"}},[s._v("#")]),s._v(" Mode 的内置函数功能")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("选型")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("development")]),s._v(" "),a("td",[s._v("设置 process.env.NODE_ENV 的值为 development .开启 NamedChunksPlugin 和 NamedModulesPlugin .")])]),s._v(" "),a("tr",[a("td",[s._v("production")]),s._v(" "),a("td",[s._v("设置 process.env.NODE_ENV 的值为 production .开启 FlagDependencyUsagePlugin,FlagIncludedChunksPlugin,ModuleConcatenationPlugin,NoEmitOnErrorsPlugin,OccurrenceOrderPlguin,SideEffectsFlagPlugin 和 TerserPlugin")])]),s._v(" "),a("tr",[a("td",[s._v("none")]),s._v(" "),a("td",[s._v("不开启任何优化选型")])])])]),s._v(" "),a("h2",{attrs:{id:"_1-6-解析-es6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-解析-es6"}},[s._v("#")]),s._v(" 1.6 解析 ES6")]),s._v(" "),a("p",[s._v("使用 babel-loader\nbabel 的配置文件是：.babelrc")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.js$/,\n                use: 'babel-loader'\n            }\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"资源解析-增加-es6-的-babel-preset-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源解析-增加-es6-的-babel-preset-配置"}},[s._v("#")]),s._v(" 资源解析：增加 ES6 的 babel preset 配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n    "presets": [\n        "@babel/preset-env"                 // 增加 ES6 的 babel preset 配置\n    ],\n    "plugins": [\n        "@babel/proposal-class-properties"\n    ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"_1-7-解析-react-jsx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-解析-react-jsx"}},[s._v("#")]),s._v(" 1.7 解析 React JSX")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n    "presets": [\n        "@babel/preset-env",\n        "@babel/preset-react"                   // 增加 React 的 babel preset 配置\n    ],\n    "plugins": [\n        "@babel/proposal-class-properties"\n    ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"_1-8-解析-css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-解析-css"}},[s._v("#")]),s._v(" 1.8 解析 CSS")]),s._v(" "),a("p",[s._v("css-loader 用于加载 .css 文件，并且转换成 commonjs 对象\nstyle-loader 将样式通过"),a("code",[s._v("<style>")]),s._v("标签插入到 head 中")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [\n                    'style-loader',\n                    'css-loader'\n                ]\n            }\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h2",{attrs:{id:"_1-9-解析-less-和-sass"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-解析-less-和-sass"}},[s._v("#")]),s._v(" 1.9 解析 Less 和 SaSS")]),s._v(" "),a("p",[s._v("less-loader 用于将 less 转换成 css")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [\n                    'style-loader',\n                    'css-loader',\n                    'less-loader'\n                ]\n            }\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h2",{attrs:{id:"_1-10-解析图片、字体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-解析图片、字体"}},[s._v("#")]),s._v(" 1.10 解析图片、字体")]),s._v(" "),a("h3",{attrs:{id:"file-loader-用于处理文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file-loader-用于处理文件"}},[s._v("#")]),s._v(" file-loader 用于处理文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n        rules: [\n            // 解析图片\n            {\n                test: /\\.(png|svg|jpg|gif)$/,\n                use: [\n                    'file-loader'\n                ]\n            },\n            // 解析字体\n            {\n                test: /\\.(woff|woff2|eot|ttf|otf)$/,\n                use: [\n                    'file-loader'\n                ]\n            },\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"url-loader-也可以处理图片和字体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-loader-也可以处理图片和字体"}},[s._v("#")]),s._v(" url-loader 也可以处理图片和字体")]),s._v(" "),a("p",[s._v("可以设置较小资源自动 base64")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n        rules: [\n            // 解析图片\n            {\n                test: /\\.(png|svg|jpg|gif)$/,\n                use: [{\n                    loader: 'url-loader',\n                    options: {\n                        limit: 10240\n                    }\n                }]\n            },\n            // 解析字体\n            {\n                test: /\\.(woff|woff2|eot|ttf|otf)$/,\n                use: [\n                    'file-loader'\n                ]\n            },\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h2",{attrs:{id:"_1-11-webpack-中的文件监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-webpack-中的文件监听"}},[s._v("#")]),s._v(" 1.11 webpack 中的文件监听")]),s._v(" "),a("p",[s._v("文件监听是在发现源码发生变化时，自动重新构建出新的输出文件。\nwebpack 开启监听模式，有两种方式：")]),s._v(" "),a("ul",[a("li",[s._v("启动 webpack 命令时，带上 --watch 参数")]),s._v(" "),a("li",[s._v("在配置 webpack.config.js 中设置 watch: true")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n"name": "hello-webpack",\n"version": "1.0.0",\n"description": "Hello webpack",\n"main": "index.js",\n"scripts": {\n"build": "webpack ",\n+ "watch": "webpack --watch"\n},\n"keywords": [],\n"author": "",\n"license": "ISC"\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("唯一缺陷： 每次需要手动刷新浏览器")]),s._v(" "),a("h3",{attrs:{id:"文件监听的原理分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件监听的原理分析"}},[s._v("#")]),s._v(" 文件监听的原理分析")]),s._v(" "),a("p",[s._v("轮询判断文件的最后编辑时间是否变化\n某个文件发生了变化，并不会立刻告诉监听者，而是先缓存起来，等 aggregateTimeout")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.export = {\n//默认 false，也就是不不开启\nwatch: true, //只有开启监听模式时，watchOptions才有意义 wathcOptions: {\n//默认为空，不监听的文件或者文件夹，支持正则匹配\nignored: /node_modules/,\n//监听到变化发生后会等300ms再去执行，默认300ms\naggregateTimeout: 300, //判断文件是否发生变化是通过不停询问系统指定文件有没有变化实现的，默认每秒问1000次 poll: 1000\n} }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"_1-12-热更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-热更新"}},[s._v("#")]),s._v(" 1.12 热更新")]),s._v(" "),a("h3",{attrs:{id:"webpack-dev-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[s._v("#")]),s._v(" webpack-dev-server")]),s._v(" "),a("p",[s._v("WDS 不刷新浏览器\nWDS 不输出文件，而是放在内存中\n使用 HotModuleReplacementPlugin 插件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n"name": "hello-webpack",\n"version": "1.0.0",\n"description": "Hello webpack",\n"main": "index.js",\n"scripts": {\n"build": "webpack ",\n"dev": "webpack-dev-server --open"\n},\n"keywords": [],\n"author": "",\n"license": "ISC"\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"webpack-dev-middleware"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-middleware"}},[s._v("#")]),s._v(" webpack-dev-middleware")]),s._v(" "),a("p",[s._v("WDM 将 webpack 输出的文件传输给服务器\n适用于灵活的定制场景")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const express = require('express');\nconst webpack = require('webpack');\nconst webpackDevMiddleware = require('webpack-dev-middleware');\n\nconst app = express();\nconst config = require('./webpack.config.js');\nconst compiler = webpack(config);\n\napp.use(webpackDevMiddleware(compiler, {\n    publicPath: config.output.publicPath\n}));\n\napp.listen(3000, function () {\n    console.log('Example app listening on port 3000\\n');\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"热更新的原理分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#热更新的原理分析"}},[s._v("#")]),s._v(" 热更新的原理分析")]),s._v(" "),a("p",[s._v("Webpack Compile: 将 JS 编译成 Bundle\nHMR Server: 将热更新的文件输出给 HMR Rumtime\nBundle server: 提供文件在浏览器的访问\nHMR Rumtime: 会被注入到浏览器，更新文件的变化\nbundle.js: 构建输出的文件\n"),a("img",{attrs:{src:"https://upload.smart-lzgz.cn/mweb/2020%2007%2019%2015951717116987%2015910212856437%20.jpg",alt:"-w713"}})]),s._v(" "),a("h2",{attrs:{id:"_1-13-文件指纹策略-chunkhash、contenthash-和-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-文件指纹策略-chunkhash、contenthash-和-hash"}},[s._v("#")]),s._v(" 1.13 文件指纹策略：chunkhash、contenthash 和 hash")]),s._v(" "),a("h3",{attrs:{id:"什么是文件指纹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是文件指纹"}},[s._v("#")]),s._v(" 什么是文件指纹？")]),s._v(" "),a("p",[s._v("打包后输出的文件名的后缀\n"),a("img",{attrs:{src:"https://upload.smart-lzgz.cn/mweb/2020%2007%2019%2015951717116998%2015910216361692%20.jpg",alt:"-w865"}})]),s._v(" "),a("h3",{attrs:{id:"文件指纹如何生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件指纹如何生成"}},[s._v("#")]),s._v(" 文件指纹如何生成")]),s._v(" "),a("p",[s._v("Hash: 和整个项目的构建相关，只要项目文件有修改，整个项目构建的 hash 值就会更改\nChunkhash: 和 webpack 打包的 chunk 有关，不同的 entry 会生成不同的 chunkhash 值\nContenthash: 根据文件内容来定义 hash，文件内容不变，则 contenthash 不变")]),s._v(" "),a("h3",{attrs:{id:"js-的文件指纹设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-的文件指纹设置"}},[s._v("#")]),s._v(" JS 的文件指纹设置")]),s._v(" "),a("p",[s._v("设置 output 的 filename，使用 [chunkhash]")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: {\n        app: './src/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name][chunkhash:8].js',\n        path: __dirname + '/dist'\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"css-的文件指纹设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-的文件指纹设置"}},[s._v("#")]),s._v(" CSS 的文件指纹设置")]),s._v(" "),a("p",[s._v("设置 MiniCssExtractPlugin 的 filename,\n使用 [contenthash]")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: {\n        app: './src/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name][chunkhash:8].js',\n        path: __dirname + '/dist'\n    },\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: `[name][contenthash:8].css`\n        });\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"图片的文件指纹设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图片的文件指纹设置"}},[s._v("#")]),s._v(" 图片的文件指纹设置")]),s._v(" "),a("p",[s._v("设置 file-loader 的 name，使用 [hash]")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("占位符名称")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("[ext]")]),s._v(" "),a("td",[s._v("资源后缀名")])]),s._v(" "),a("tr",[a("td",[s._v("[name]")]),s._v(" "),a("td",[s._v("文件名称")])]),s._v(" "),a("tr",[a("td",[s._v("[path]")]),s._v(" "),a("td",[s._v("文件的相对路径")])]),s._v(" "),a("tr",[a("td",[s._v("[folder]")]),s._v(" "),a("td",[s._v("文件所在的文件夹")])]),s._v(" "),a("tr",[a("td",[s._v("[contenthash]")]),s._v(" "),a("td",[s._v("文件的内容 hash，默认是 md5 生成")])]),s._v(" "),a("tr",[a("td",[s._v("[hash]")]),s._v(" "),a("td",[s._v("文件内容的 hash，默认是 md5 生成")])]),s._v(" "),a("tr",[a("td",[s._v("[emoji]")]),s._v(" "),a("td",[s._v("一个随机的指代文件内容的 emoj")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const path = require('path');\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.(png|svg|jpg|gif)$/,\n                use: [{\n                    loader: 'file-loader',\n                    options: {\n                        name: 'img/[name][hash:8].[ext]'\n                    }\n                }]\n            }\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h2",{attrs:{id:"_1-14-html、css-和-js-代码压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-html、css-和-js-代码压缩"}},[s._v("#")]),s._v(" 1.14 HTML、CSS 和 JS 代码压缩")]),s._v(" "),a("h3",{attrs:{id:"代码压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码压缩"}},[s._v("#")]),s._v(" 代码压缩")]),s._v(" "),a("ul",[a("li",[s._v("HTML 压缩")]),s._v(" "),a("li",[s._v("CSS 压缩")]),s._v(" "),a("li",[s._v("JS 压缩\n"),a("img",{attrs:{src:"https://upload.smart-lzgz.cn/mweb/2020%2007%2019%2015951717117013%2015910245814086%20.jpg",alt:"-w628"}})])]),s._v(" "),a("h3",{attrs:{id:"js-文件的压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-文件的压缩"}},[s._v("#")]),s._v(" JS 文件的压缩")]),s._v(" "),a("p",[s._v("内置了 uglifyjs-webpack-plugin")]),s._v(" "),a("h3",{attrs:{id:"css-文件的压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-文件的压缩"}},[s._v("#")]),s._v(" CSS 文件的压缩")]),s._v(" "),a("p",[s._v("使用 optimize-css-assets-webpack-plugin\n同时使用 cssnano")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: {\n        app: './src/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name][chunkhash:8].js',\n        path: __dirname + '/dist'\n    },\n    plugins: [\n        new OptimizeCSSAssetsPlugin({\n            assetNameRegExp: /\\.css$/g,\n            cssProcessor: require('cssnano')\n        })\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"html-文件的压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-文件的压缩"}},[s._v("#")]),s._v(" HTML 文件的压缩")]),s._v(" "),a("p",[s._v("修改 html-webpack-plugin,设置压缩参数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    entry: {\n        app: './src/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name][chunkhash:8].js',\n        path: __dirname + '/dist'\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: path.join(__dirname, 'src/search.html'),\n            filename: 'search.html',\n            chunks: ['search' ],\n            inject: true,\n            minify: {\n                html5: true,\n                collapseWhitespace: true,\n                preservelLinBreaks: false,\n                minifyCSS: true,\n                minifyJS: true,\n                removeComments: false\n            }\n        })\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);