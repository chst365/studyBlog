(window.webpackJsonp=window.webpackJsonp||[]).push([[184],{545:function(t,v,_){"use strict";_.r(v);var e=_(9),a=Object(e.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("p",[v("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chst365/bolgImgs/imgs/topImgs/401.jpg",alt:""}})]),t._v(" "),v("h1",{attrs:{id:"面试官-说说-git-发生冲突的场景-如何解决"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#面试官-说说-git-发生冲突的场景-如何解决"}},[t._v("#")]),t._v(" 面试官：说说 git 发生冲突的场景？如何解决？")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/8aeccc40-fdb3-11eb-bc6f-3f06e1491664.png",alt:""}})]),t._v(" "),v("h2",{attrs:{id:"一、是什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、是什么"}},[t._v("#")]),t._v(" 一、是什么")]),t._v(" "),v("p",[t._v("一般情况下，出现分支的场景有如下：")]),t._v(" "),v("ul",[v("li",[t._v("多个分支代码合并到一个分支时")]),t._v(" "),v("li",[t._v("多个分支向同一个远端分支推送")])]),t._v(" "),v("p",[t._v("具体情况就是，多个分支修改了同一个文件（任何地方）或者多个分支修改了同一个文件的名称")]),t._v(" "),v("p",[t._v("如果两个分支中分别修改了不同文件中的部分，是不会产生冲突，直接合并即可")]),t._v(" "),v("p",[t._v("应用在命令中，就是"),v("code",[t._v("push")]),t._v("、"),v("code",[t._v("pull")]),t._v("、"),v("code",[t._v("stash")]),t._v("、"),v("code",[t._v("rebase")]),t._v("等命令下都有可能产生冲突情况，从本质上来讲，都是"),v("code",[t._v("merge")]),t._v("和"),v("code",[t._v("patch")]),t._v("（应用补丁）时产生冲突")]),t._v(" "),v("h2",{attrs:{id:"二、分析"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、分析"}},[t._v("#")]),t._v(" 二、分析")]),t._v(" "),v("p",[t._v("在本地主分值"),v("code",[t._v("master")]),t._v("创建一个"),v("code",[t._v("a.txt")]),t._v("文件，文件起始位置写上"),v("code",[t._v("master commit")]),t._v("，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/959ade20-fdb3-11eb-991d-334fd31f0201.png",alt:""}})]),t._v(" "),v("p",[t._v("然后提交到仓库：")]),t._v(" "),v("ul",[v("li",[t._v("git add a.txt")]),t._v(" "),v("li",[t._v("git commit -m 'master first commit'")])]),t._v(" "),v("p",[t._v("创建一个新的分支"),v("code",[t._v("featurel1")]),t._v("分支，并进行切换，如下：")]),t._v(" "),v("div",{staticClass:"language-cmd line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("git checkout -b featurel1\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("p",[t._v("然后修改"),v("code",[t._v("a.txt")]),t._v("文件首行文字为 "),v("code",[t._v("featurel commit")]),t._v("，然后添加到暂存区，并开始进行提交到仓库：")]),t._v(" "),v("ul",[v("li",[t._v("git add a.txt")]),t._v(" "),v("li",[t._v("git commit -m 'featurel  first change'")])]),t._v(" "),v("p",[t._v("然后通过"),v("code",[t._v("git checkout master")]),t._v("切换到主分支，通过"),v("code",[t._v("git merge")]),t._v("进行合并，发现不会冲突")]),t._v(" "),v("p",[t._v("此时"),v("code",[t._v("a.txt")]),t._v("文件的内容变成"),v("code",[t._v("featurel commit")]),t._v("，没有出现冲突情况，这是因为"),v("code",[t._v("git")]),t._v("在内部发生了快速合并")]),t._v(" "),v("blockquote",[v("p",[t._v("如果当前分支的每一个提交(commit)都已经存在另一个分支里了，git 就会执行一个“快速向前”(fast forward)操作")]),t._v(" "),v("p",[t._v("git 不创建任何新的提交(commit)，只是将当前分支指向合并进来的分支")])]),t._v(" "),v("p",[t._v("如果此时切换到"),v("code",[t._v("featurel")]),t._v("分支，将文件的内容修改成"),v("code",[t._v("featrue second commit")]),t._v("，然后提交到本地仓库")]),t._v(" "),v("p",[t._v("然后切换到主分支，如果此时在"),v("code",[t._v("a.txt")]),t._v("文件再次修改，修改成"),v("code",[t._v("mastet second commit")]),t._v("，然后再次提交到本地仓库")]),t._v(" "),v("p",[t._v("此时，"),v("code",[t._v("master")]),t._v("分支和"),v("code",[t._v("feature1")]),t._v("分支各自都分别有新的提交，变成了下图所示：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/a05488c0-fdb3-11eb-991d-334fd31f0201.png",alt:""}})]),t._v(" "),v("p",[t._v("这种情况下，无法执行快速合并，只能试图把各自的修改合并起来，但这种合并就可能会有冲突")]),t._v(" "),v("p",[t._v("现在通过"),v("code",[t._v("git merge featurel")]),t._v("进行分支合并，如下所示：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/b0991d90-fdb3-11eb-bc6f-3f06e1491664.png",alt:""}})]),t._v(" "),v("p",[t._v("从冲突信息可以看到，"),v("code",[t._v("a.txt")]),t._v("发生冲突，必须手动解决冲突之后再提交")]),t._v(" "),v("p",[t._v("而"),v("code",[t._v("git status")]),t._v("同样可以告知我们冲突的文件：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/c5823430-fdb3-11eb-991d-334fd31f0201.png",alt:""}})]),t._v(" "),v("p",[t._v("打开"),v("code",[t._v("a.txt")]),t._v("文件，可以看到如下内容：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/ce7a0a90-fdb3-11eb-bc6f-3f06e1491664.png",alt:""}})]),t._v(" "),v("p",[v("code",[t._v("git")]),t._v("用"),v("code",[t._v("<<<<<<<")]),t._v("，"),v("code",[t._v("=======")]),t._v("，"),v("code",[t._v(">>>>>>>")]),t._v("标记出不同分支的内容：")]),t._v(" "),v("ul",[v("li",[v("code",[t._v("<<<<<<<")]),t._v(" 和 "),v("code",[t._v("=======")]),t._v(" 之间的区域就是当前更改的内容")]),t._v(" "),v("li",[v("code",[t._v("=======")]),t._v(" 和 "),v("code",[t._v(">>>>>>>")]),t._v(" 之间的区域就是传入进来更改的内容")])]),t._v(" "),v("p",[t._v("现在要做的事情就是将冲突的内容进行更改，对每个文件使用 "),v("code",[t._v("git add")]),t._v(" 命令来将其标记为冲突已解决。 一旦暂存这些原本有冲突的文件，"),v("code",[t._v("Git")]),t._v("就会将它们标记为冲突已解决然后再提交：")]),t._v(" "),v("ul",[v("li",[t._v("git add a.txt")]),t._v(" "),v("li",[t._v('git commit -m "conflict fixed"')])]),t._v(" "),v("p",[t._v("此时"),v("code",[t._v("master")]),t._v("分支和"),v("code",[t._v("feature1")]),t._v("分支变成了下图所示：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/d7421e60-fdb3-11eb-bc6f-3f06e1491664.png",alt:""}})]),t._v(" "),v("p",[t._v("使用"),v("code",[t._v("git log")]),t._v("命令可以看到合并的信息：")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.vue-js.com/e0dfd1b0-fdb3-11eb-991d-334fd31f0201.png",alt:""}})]),t._v(" "),v("h2",{attrs:{id:"三、总结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、总结"}},[t._v("#")]),t._v(" 三、总结")]),t._v(" "),v("p",[t._v("当"),v("code",[t._v("Git")]),t._v("无法自动合并分支时，就必须首先解决冲突，解决冲突后，再提交，合并完成")]),t._v(" "),v("p",[t._v("解决冲突就是把"),v("code",[t._v("Git")]),t._v("合并失败的文件手动编辑为我们希望的内容，再提交")]),t._v(" "),v("h2",{attrs:{id:"参考文献"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),v("ul",[v("li",[t._v("https://www.liaoxuefeng.com/wiki/896043488029600/900004111093344")])])])}),[],!1,null,null,null);v.default=a.exports}}]);