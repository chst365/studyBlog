## 概览
[这里](https://zh-hans.reactjs.org/docs/reconciliation.html#the-diffing-algorithm)是对Diff算法的解释
一个`DOM节点`在某一时刻最多会有4个节点和他相关。
1. `current Fiber` 若该`DOM节点`已在页面中，`current Fiber`代表该`DOM节点`对应的`Fiber节点`
2. `workInProgress Fiber` 若该`DOM节点`将在本次更新中渲染到页面中，`workInProgress Fiber`代表该`DOM节点`对应的`Fiber节点`
3. `DOM节点`本身
4. `JSX对象` 即`ClassComponent`的`render`方法的返回结果，或`FunctionComponent`的调用结果。`JSX对象`中包含描述`DOM节点`的信息。
Diff算法的本质是对比1和4，生成2。
### Diff的瓶颈及React如何应对
由于Diff操作本身也会带来性能损耗，即使在最前沿的算法中，将前后两棵树完全比对的算法复杂度为O(n 3)，n为树中元素的数量。
为降低算法复杂度，React的diff会预设三个限制：
- 只对同级元素进行Diff。若一个DOM节点在前后两次更新中跨越了层级，那么React不会尝试复用他
- 两个不同类型的元素会产生不同的树
## 单节点Diff
## 多节点Diff